(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-investigates-involvedInv"],{"1d05":function(t,e,s){"use strict";var i=s("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(s("f499"));s("7f7f");var a={data:function(){return{invId:0,invName:"",invDetails:[],invDescription:"",userInfo:{},status:!1,result:{resultlist:[]}}},onLoad:function(){var t=this;this.$toast.loading({duration:0,forbidClick:!0,message:"加载中"}),null!=this.$cookies.get("userInfo")&&(this.userInfo=this.$cookies.get("userInfo"));var e=s("9ad7"),i={method:"POST",uri:"http://101.201.70.76:8211/getInvestigate",form:{id:this.$route.query.invDetailsId}};e(i).then(function(e){var s=JSON.parse(e)[0];t.invId=s.id,t.invName=s.name,t.invDetails=JSON.parse(s.details);for(var i=0;i<t.invDetails.length;i++)t.invDetails[i].answer="",t.result.resultlist[i]=[];t.invDescription=s.description,t.$toast.clear(),t.$toast.success("成功")}).catch(function(e){console.log(e),t.$toast.clear(),t.$toast.fail("加载失败，请检查网络连接")})},methods:{toggle:function(t,e){this.$refs["checkboxes"+"".concat(t)][e].toggle()},submit:function(){var t=this;this.$toast.loading({duration:0,forbidClick:!0,message:"提交中"});for(var e=[],i=0;i<this.invDetails.length;i++)if(1==this.invDetails[i].type){if(""==this.invDetails[i].answer)return this.$toast.clear(),void this.$toast.fail("请填写简答题答案！");var a={stem:this.invDetails[i].stem,res:{value:this.invDetails[i].answer}};e.push(a)}else{if(0==this.result.resultlist[i].length)return this.$toast.clear(),void this.$toast.fail("请填写选择题答案！");a={stem:this.invDetails[i].stem,res:this.result.resultlist[i][0]};e.push(a)}console.log(e);var r=s("9ad7"),l={method:"POST",uri:"http://101.201.70.76:8211/insertUserInv",form:{uid:this.userInfo.id,iid:this.invId,ans:(0,n.default)(e)}};r(l).then(function(e){t.$toast.clear(),"error"!=e?t.$toast.success("提交成功"):t.$toast.fail("提交失败，数据格式错误")}).catch(function(e){t.$toast.clear(),t.$toast.fail("提交失败，请检查网络连接"),console.log(e)})}}};e.default=a},"40d0":function(t,e,s){e=t.exports=s("2350")(!1),e.push([t.i,".title[data-v-28259b85]{text-align:center}",""])},"505f":function(t,e,s){"use strict";s.r(e);var i=s("8544"),n=s("5f99");for(var a in n)"default"!==a&&function(t){s.d(e,t,function(){return n[t]})}(a);s("9b13");var r=s("2877"),l=Object(r["a"])(n["default"],i["a"],i["b"],!1,null,"28259b85",null);e["default"]=l.exports},"5f99":function(t,e,s){"use strict";s.r(e);var i=s("1d05"),n=s.n(i);for(var a in i)"default"!==a&&function(t){s.d(e,t,function(){return i[t]})}(a);e["default"]=n.a},8544:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-uni-view",[s("h3",{staticClass:"title"},[t._v(t._s(t.invName))]),s("van-panel",{attrs:{title:t.invName,desc:t.invDescription}},t._l(t.invDetails,function(e,i){return s("v-uni-view",{key:i},[0==e.type?s("van-panel",{attrs:{title:e.stem,status:"选择题"}},[s("van-checkbox-group",{attrs:{max:1},model:{value:t.result.resultlist[i],callback:function(e){t.$set(t.result.resultlist,i,e)},expression:"result.resultlist[key]"}},[s("van-cell-group",t._l(e.options,function(e,n){return s("van-cell",{key:n,attrs:{clickable:"",title:e.value},on:{click:function(e){e=t.$handleEvent(e),t.toggle(i,n)}}},[s("van-checkbox",{ref:"checkboxes"+i,refInFor:!0,attrs:{slot:"right-icon",name:e},slot:"right-icon"})],1)}),1)],1)],1):1==e.type?s("van-panel",{attrs:{title:e.stem,status:"简答题"}},[s("van-field",{attrs:{rows:"3",autosize:"",label:"请作答",type:"textarea",placeholder:"请输入本题回答"},model:{value:t.invDetails[i].answer,callback:function(e){t.$set(t.invDetails[i],"answer",e)},expression:"invDetails[key].answer"}})],1):t._e()],1)}),1),s("van-button",{attrs:{type:"warning",size:"large"},on:{click:function(e){e=t.$handleEvent(e),t.submit()}}},[t._v("提交答案")])],1)},n=[];s.d(e,"a",function(){return i}),s.d(e,"b",function(){return n})},"99eb":function(t,e,s){var i=s("40d0");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=s("4f06").default;n("235bbc05",i,!0,{sourceMap:!1,shadowMode:!1})},"9b13":function(t,e,s){"use strict";var i=s("99eb"),n=s.n(i);n.a}}]);