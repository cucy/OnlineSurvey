(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-Company-userCompany"],{"36cc":function(n,o,t){"use strict";t.r(o);var a=t("c2e6"),e=t("4a84");for(var i in e)"default"!==i&&function(n){t.d(o,n,function(){return e[n]})}(i);var s=t("2877"),m=Object(s["a"])(e["default"],a["a"],a["b"],!1,null,"57b7db4d",null);o["default"]=m.exports},"3f19":function(n,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,t("7f7f");var a={data:function(){return{userInfo:{company:{name:""}},mdfCompany:{name:"",forms:"",domain:"",description:""},showMdf:!1,modified:!1}},onLoad:function(){var n=this,o=t("9ad7"),a={method:"POST",uri:"http://101.201.70.76:8211/getUserById",form:{id:this.$cookies.get("userInfo").id}};o(a).then(function(o){n.$toast.clear(),"error"==o?n.$toast.fail("获取用户信息识别，未找到用户信息"):(n.userInfo=JSON.parse(o),console.log(n.userInfo),n.$toast.success("获取用户信息成功"))}).catch(function(o){n.$toast.clear(),n.$toast.fail("获取用户信息, 请检查网络连接"),console.log(o)})},methods:{showMdfPopup:function(){""==this.mdfCompany.name&&(this.mdfCompany.name=this.userInfo.company.name,this.mdfCompany.forms=this.userInfo.company.forms,this.mdfCompany.domain=this.userInfo.company.domain,this.mdfCompany.description=this.userInfo.company.description),this.showMdf=!0},confirmMdf:function(){this.modified=!0,this.$forceUpdate(),this.showMdf=!1},cancelMdf:function(){this.mdfCompany.name=this.userInfo.company.name,this.mdfCompany.forms=this.userInfo.company.forms,this.mdfCompany.domain=this.userInfo.company.domain,this.mdfCompany.description=this.userInfo.company.description,this.modified=!1,this.$forceUpdate()},submit:function(){var n=this;this.$toast.loading({duration:0,forbidClick:!0,message:"提交中"}),this.mdfCompany.name==this.userInfo.company.name&&(this.mdfCompany.name="null"),this.mdfCompany.forms==this.userInfo.company.forms&&(this.mdfCompany.forms="null"),this.mdfCompany.domain==this.userInfo.company.domain&&(this.mdfCompany.domain="null"),this.mdfCompany.description==this.userInfo.company.description&&(this.mdfCompany.description="null");var o=t("9ad7"),a={method:"POST",uri:"http://101.201.70.76:8211/updateCompany",form:{id:this.userInfo.company.id,name:this.mdfCompany.name,forms:this.mdfCompany.forms,domain:this.mdfCompany.domain,description:this.mdfCompany.description}};o(a).then(function(o){n.$toast.clear(),"error"==o?n.$toast.fail("提交失败，数据格式错误"):(n.modified=!1,n.$toast.success("提交成功"))}).catch(function(o){n.$toast.success("提交失败，请检查网络连接"),console.log(o)})}}};o.default=a},"4a84":function(n,o,t){"use strict";t.r(o);var a=t("3f19"),e=t.n(a);for(var i in a)"default"!==i&&function(n){t.d(o,n,function(){return a[n]})}(i);o["default"]=e.a},c2e6:function(n,o,t){"use strict";var a=function(){var n=this,o=n.$createElement,t=n._self._c||o;return t("v-uni-view",[n.modified?t("van-cell-group",[t("van-cell",{attrs:{title:"公司名",icon:"coupon-o",value:n.mdfCompany.name}}),t("van-cell",{attrs:{title:"公式标签",icon:"bookmark-o"}},[t("van-tag",{attrs:{type:"danger"}},[n._v(n._s(n.mdfCompany.forms))]),n._v("/"),t("van-tag",{attrs:{type:"primary"}},[n._v(n._s(n.mdfCompany.domain))])],1),t("van-cell",{attrs:{title:"公司简介",icon:"comment-o",label:n.mdfCompany.description}})],1):t("van-cell-group",[t("van-cell",{attrs:{title:"公司名",icon:"coupon-o",value:n.userInfo.company.name}}),t("van-cell",{attrs:{title:"公式标签",icon:"bookmark-o"}},[t("van-tag",{attrs:{type:"danger"}},[n._v(n._s(n.userInfo.company.domain))]),n._v("/"),t("van-tag",{attrs:{type:"primary"}},[n._v(n._s(n.userInfo.company.forms))])],1),t("van-cell",{attrs:{title:"公司简介",icon:"comment-o",label:n.userInfo.company.description}})],1),t("van-button",{attrs:{type:"primary",size:"large"},on:{click:function(o){o=n.$handleEvent(o),n.showMdfPopup()}}},[n._v("修改信息")]),n.modified?t("van-button",{attrs:{type:"info",size:"large"},on:{click:function(o){o=n.$handleEvent(o),n.submit()}}},[n._v("提交修改")]):n._e(),n.modified?t("van-button",{attrs:{type:"warning",size:"large"},on:{click:function(o){o=n.$handleEvent(o),n.cancelMdf()}}},[n._v("取消修改")]):n._e(),t("van-popup",{attrs:{position:"bottom"},model:{value:n.showMdf,callback:function(o){n.showMdf=o},expression:"showMdf"}},[t("van-cell-group",[t("van-field",{attrs:{required:"",label:"公司名",placeholder:"请输入公司名"},model:{value:n.mdfCompany.name,callback:function(o){n.$set(n.mdfCompany,"name",o)},expression:"mdfCompany.name"}}),t("van-field",{attrs:{label:"企业类型","left-icon":"user-circle-o",placeholder:"如独资企业 合资企业 公司制企业"},model:{value:n.mdfCompany.forms,callback:function(o){n.$set(n.mdfCompany,"forms",o)},expression:"mdfCompany.forms"}}),t("van-field",{attrs:{label:"企业领域","left-icon":"records",placeholder:"如农业 互联网 汽车等"},model:{value:n.mdfCompany.domain,callback:function(o){n.$set(n.mdfCompany,"domain",o)},expression:"mdfCompany.domain"}}),t("van-field",{attrs:{required:"",rows:"1",autosize:"",label:"公司简介",type:"textarea",placeholder:"请输入简介"},model:{value:n.mdfCompany.description,callback:function(o){n.$set(n.mdfCompany,"description",o)},expression:"mdfCompany.description"}})],1),t("van-button",{attrs:{type:"info",size:"large"},on:{click:function(o){o=n.$handleEvent(o),n.confirmMdf()}}},[n._v("确认")])],1)],1)},e=[];t.d(o,"a",function(){return a}),t.d(o,"b",function(){return e})}}]);